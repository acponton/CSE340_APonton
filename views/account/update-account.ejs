<h1><%= title %></h1>

<%- messages() %>

<% if (errors) { %>
    <ul class="notice">
        <% errors.array().forEach(error => { %>
            <li><%= error.msg %></li>
        <% }) %>
    </ul>
<% } %>

<section class="form-wrapper">

    <!-- ACCOUNT UPDATE FORM -->
    <h2>Account Update</h2>

    <form action="/account/update" method="post" class="account-form">

        <label for="account_firstname">First Name</label>
        <input
            type="text"
            id="account_firstname"
            name="account_firstname"
            required
            value="<%= typeof account_firstname !== 'undefined' ? account_firstname : accountData.account_firstname %>"
        >

        <label for="account_lastname">Last Name</label>
        <input
            type="text"
            id="account_lastname"
            name="account_lastname"
            required
            value="<%= typeof account_lastname !== 'undefined' ? account_lastname : accountData.account_lastname %>"
        >

        <label for="account_email">Email</label>
        <input
            type="email"
            id="account_email"
            name="account_email"
            required
            value="<%= typeof account_email !== 'undefined' ? account_email : accountData.account_email %>"
        >

        <!-- Hidden ID -->
        <input type="hidden" name="account_id" value="<%= accountData.account_id %>">

        <button type="submit" class="btn">Update Account</button>
    </form>

    <!-- PASSWORD UPDATE FORM -->
    <h2>Change Password</h2>

    <p class="password-requirements">
        Enter a new password below. Updating this field will replace your current password.
        Passwords must be at least 12 characters long and include at least one uppercase letter,
        one number, and one special character.
    </p>


    <form action="/account/update-password" method="post" class="account-form">

        <label for="account_password">New Password</label>
        <input
            type="password"
            id="account_password"
            name="account_password"
            required
            pattern="(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*]).{12,}"
            title="Password must be at least 12 characters and include an uppercase letter, a number, and a special character."
        >

        <!-- Hidden ID -->
        <input type="hidden" name="account_id" value="<%= accountData.account_id %>">

        <button type="submit" class="btn">Change Password</button>
    </form>

</section>